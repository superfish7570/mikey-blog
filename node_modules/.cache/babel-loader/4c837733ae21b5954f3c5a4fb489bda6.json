{"ast":null,"code":"import React from'react';import styles from'./style.module.scss';import{Button}from\"antd\";import{AreaItem}from\"../areaItem\";import{useDispatch,useSelector}from\"react-redux\";import{getAddPageChildrenAction,getChangePageChildPositionAction}from\"../../redux/action\";import{SortableContainer}from\"react-sortable-hoc\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SortableList=SortableContainer(function(_ref){var list=_ref.list;return/*#__PURE__*/_jsx(\"ul\",{className:styles.list,children:list.map(function(item,index){return/*#__PURE__*/_jsx(AreaItem,{index:index,value:index},index);})});});export var AreaList=function AreaList(){var dispatch=useDispatch();var children=useSelector(function(state){var _state$homeManagePage;return((_state$homeManagePage=state.homeManagePageReducer.schema)===null||_state$homeManagePage===void 0?void 0:_state$homeManagePage.children)||[];});// 增加\nvar addPageChildren=function addPageChildren(){dispatch(getAddPageChildrenAction());};// 根据 react-sortable-hoc 官网操作\nvar onSortEnd=function onSortEnd(_ref2){var oldIndex=_ref2.oldIndex,newIndex=_ref2.newIndex;dispatch(getChangePageChildPositionAction(oldIndex,newIndex));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SortableList,{distance:5,lockAxis:\"y\",list:children,onSortEnd:onSortEnd}),/*#__PURE__*/_jsx(Button,{type:\"primary\",ghost:true,onClick:addPageChildren,children:\"\\u65B0\\u589E\\u533A\\u5757\\u6309\\u94AE\"})]});};","map":{"version":3,"names":["React","styles","Button","AreaItem","useDispatch","useSelector","getAddPageChildrenAction","getChangePageChildPositionAction","SortableContainer","SortableList","list","map","item","index","AreaList","dispatch","children","state","homeManagePageReducer","schema","addPageChildren","onSortEnd","oldIndex","newIndex"],"sources":["/Users/mikey/Desktop/yc-blog/src/admin/components/areaList/AreaList.jsx"],"sourcesContent":["import React from 'react';\nimport styles from './style.module.scss';\nimport {Button} from \"antd\";\nimport {AreaItem} from \"../areaItem\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getAddPageChildrenAction,getChangePageChildPositionAction} from \"../../redux/action\";\nimport {SortableContainer} from \"react-sortable-hoc\";\n\nconst SortableList = SortableContainer(({list}) => {\n    return (\n        <ul className={styles.list}>\n            {list.map((item, index) => (\n                <AreaItem key={index} index={index} value={index}/>\n            ))}\n        </ul>\n    )\n});\n\nexport const AreaList = () => {\n    const dispatch = useDispatch();\n    const children = useSelector((state) => state.homeManagePageReducer.schema?.children || []);\n    // 增加\n    const addPageChildren = () => {\n        dispatch(getAddPageChildrenAction())\n    }\n\n    // 根据 react-sortable-hoc 官网操作\n    const onSortEnd = ({oldIndex,newIndex}) => {\n        dispatch(getChangePageChildPositionAction(oldIndex, newIndex));\n    }\n\n    return (\n        <div>\n            <SortableList distance={5} lockAxis='y' list={children} onSortEnd={onSortEnd} />\n            <Button type='primary' ghost onClick={addPageChildren}>新增区块按钮</Button>\n        </div>\n    )\n}"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,OAAQC,MAAR,KAAqB,MAArB,CACA,OAAQC,QAAR,KAAuB,aAAvB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,wBAAR,CAAiCC,gCAAjC,KAAwE,oBAAxE,CACA,OAAQC,iBAAR,KAAgC,oBAAhC,C,wFAEA,GAAMC,aAAY,CAAGD,iBAAiB,CAAC,cAAY,IAAVE,KAAU,MAAVA,IAAU,CAC/C,mBACI,WAAI,SAAS,CAAET,MAAM,CAACS,IAAtB,UACKA,IAAI,CAACC,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,qBACN,KAAC,QAAD,EAAsB,KAAK,CAAEA,KAA7B,CAAoC,KAAK,CAAEA,KAA3C,EAAeA,KAAf,CADM,EAAT,CADL,EADJ,CAOH,CARqC,CAAtC,CAUA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC1B,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,SAAQ,CAAGX,WAAW,CAAC,SAACY,KAAD,kCAAW,wBAAAA,KAAK,CAACC,qBAAN,CAA4BC,MAA5B,sEAAoCH,QAApC,GAAgD,EAA3D,EAAD,CAA5B,CACA;AACA,GAAMI,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1BL,QAAQ,CAACT,wBAAwB,EAAzB,CAAR,CACH,CAFD,CAIA;AACA,GAAMe,UAAS,CAAG,QAAZA,UAAY,OAAyB,IAAvBC,SAAuB,OAAvBA,QAAuB,CAAdC,QAAc,OAAdA,QAAc,CACvCR,QAAQ,CAACR,gCAAgC,CAACe,QAAD,CAAWC,QAAX,CAAjC,CAAR,CACH,CAFD,CAIA,mBACI,oCACI,KAAC,YAAD,EAAc,QAAQ,CAAE,CAAxB,CAA2B,QAAQ,CAAC,GAApC,CAAwC,IAAI,CAAEP,QAA9C,CAAwD,SAAS,CAAEK,SAAnE,EADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,KAAK,KAA5B,CAA6B,OAAO,CAAED,eAAtC,kDAFJ,GADJ,CAMH,CAnBM"},"metadata":{},"sourceType":"module"}