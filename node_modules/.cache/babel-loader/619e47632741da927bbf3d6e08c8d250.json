{"ast":null,"code":"import _slicedToArray from\"/Users/mikey/Desktop/yc-blog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch,useSelector}from\"react-redux\";import{getChangePageAttributeAction,getChangePageChildAction,getChangeSchemaAction,getDelectPageChildAction}from\"../redux/action\";import{useCallback,useState}from\"react\";// 自定义 hooks 把重复的事情 集合起来 schema 传数据 取数据 统一管理\nexport var useStore=function useStore(index){var _useState=useState(),_useState2=_slicedToArray(_useState,2),num=_useState2[0],setNum=_useState2[1];var dispatch=useDispatch();var schema=useSelector(function(state){return state.homeManagePageReducer.schema;});var pageChild=useSelector(function(state){var _state$homeManagePage;return((_state$homeManagePage=state.homeManagePageReducer.schema.children)===null||_state$homeManagePage===void 0?void 0:_state$homeManagePage[index])||{};});var changeSchema=useCallback(function(schema){dispatch(getChangeSchemaAction(schema));setNum(num+1);},[num,dispatch]);var changePageChild=function changePageChild(temp){dispatch(getChangePageChildAction(index,temp));};var removePageChild=function removePageChild(){dispatch(getDelectPageChildAction(index));};var changePageAttribute=function changePageAttribute(key,value){dispatch(getChangePageAttributeAction(key,value));};return{schema:schema,pageChild:pageChild,changePageChild:changePageChild,removePageChild:removePageChild,changeSchema:changeSchema,changePageAttribute:changePageAttribute};};","map":{"version":3,"names":["useDispatch","useSelector","getChangePageAttributeAction","getChangePageChildAction","getChangeSchemaAction","getDelectPageChildAction","useCallback","useState","useStore","index","num","setNum","dispatch","schema","state","homeManagePageReducer","pageChild","children","changeSchema","changePageChild","temp","removePageChild","changePageAttribute","key","value"],"sources":["/Users/mikey/Desktop/yc-blog/src/admin/hook/useStore.js"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\nimport {\n    getChangePageAttributeAction,\n    getChangePageChildAction,\n    getChangeSchemaAction,\n    getDelectPageChildAction\n} from \"../redux/action\";\nimport {useCallback, useState} from \"react\";\n\n// 自定义 hooks 把重复的事情 集合起来 schema 传数据 取数据 统一管理\nexport const useStore = (index) => {\n    const [num,setNum] = useState();\n    const dispatch = useDispatch();\n    const schema = useSelector((state) => state.homeManagePageReducer.schema);\n    const pageChild = useSelector((state) => state.homeManagePageReducer.schema.children?.[index] || {});\n    const changeSchema = useCallback((schema) => {\n        dispatch(getChangeSchemaAction(schema));\n        setNum(num+1);\n    },[num,dispatch]);\n    const changePageChild = (temp) => {\n        dispatch(getChangePageChildAction(index, temp));\n    };\n    const removePageChild = () => {\n        dispatch(getDelectPageChildAction(index));\n    };\n    const changePageAttribute = (key, value) => {\n        dispatch(getChangePageAttributeAction(key, value));\n    }\n    return {schema,pageChild, changePageChild, removePageChild,changeSchema,changePageAttribute};\n}\n"],"mappings":"kHAAA,OAAQA,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OACIC,4BADJ,CAEIC,wBAFJ,CAGIC,qBAHJ,CAIIC,wBAJJ,KAKO,iBALP,CAMA,OAAQC,WAAR,CAAqBC,QAArB,KAAoC,OAApC,CAEA;AACA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAC/B,cAAqBF,QAAQ,EAA7B,wCAAOG,GAAP,eAAWC,MAAX,eACA,GAAMC,SAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,OAAM,CAAGZ,WAAW,CAAC,SAACa,KAAD,QAAWA,MAAK,CAACC,qBAAN,CAA4BF,MAAvC,EAAD,CAA1B,CACA,GAAMG,UAAS,CAAGf,WAAW,CAAC,SAACa,KAAD,kCAAW,wBAAAA,KAAK,CAACC,qBAAN,CAA4BF,MAA5B,CAAmCI,QAAnC,sEAA8CR,KAA9C,IAAwD,EAAnE,EAAD,CAA7B,CACA,GAAMS,aAAY,CAAGZ,WAAW,CAAC,SAACO,MAAD,CAAY,CACzCD,QAAQ,CAACR,qBAAqB,CAACS,MAAD,CAAtB,CAAR,CACAF,MAAM,CAACD,GAAG,CAAC,CAAL,CAAN,CACH,CAH+B,CAG9B,CAACA,GAAD,CAAKE,QAAL,CAH8B,CAAhC,CAIA,GAAMO,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,IAAD,CAAU,CAC9BR,QAAQ,CAACT,wBAAwB,CAACM,KAAD,CAAQW,IAAR,CAAzB,CAAR,CACH,CAFD,CAGA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1BT,QAAQ,CAACP,wBAAwB,CAACI,KAAD,CAAzB,CAAR,CACH,CAFD,CAGA,GAAMa,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,GAAD,CAAMC,KAAN,CAAgB,CACxCZ,QAAQ,CAACV,4BAA4B,CAACqB,GAAD,CAAMC,KAAN,CAA7B,CAAR,CACH,CAFD,CAGA,MAAO,CAACX,MAAM,CAANA,MAAD,CAAQG,SAAS,CAATA,SAAR,CAAmBG,eAAe,CAAfA,eAAnB,CAAoCE,eAAe,CAAfA,eAApC,CAAoDH,YAAY,CAAZA,YAApD,CAAiEI,mBAAmB,CAAnBA,mBAAjE,CAAP,CACH,CAnBM"},"metadata":{},"sourceType":"module"}