{"ast":null,"code":"import { produce } from 'immer';\nimport { parseJsonByString } from \"../../common/utils\";\nimport { CHANGE_SCHEMA, ADD_PAGE_CHILDREN, CHANGE_PAGE_CHILD, DELECT_PAGE_CHILD, CHANGE_PAGE_CHILD_POSITION } from \"./constant\";\nconst initialSchema = parseJsonByString(window.localStorage.schema, {\n  name: 'page',\n  attributes: {},\n  children: []\n});\nconst defaultState = {\n  schema: initialSchema\n};\nexport const homeManagePageReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, draft => {\n    switch (action.type) {\n      case CHANGE_SCHEMA:\n        draft.schema = action.value;\n        break;\n\n      case ADD_PAGE_CHILDREN:\n        draft.schema.children.push(action.value);\n        break;\n\n      case CHANGE_PAGE_CHILD:\n        draft.schema.children.splice(action.index, 1, action.value);\n        break;\n\n      case DELECT_PAGE_CHILD:\n        draft.schema.children.splice(action.index, 1);\n        break;\n\n      case CHANGE_PAGE_CHILD_POSITION:\n        draft.schema.children.splice(action.index, 1);\n        break;\n\n      default:\n        break;\n    }\n  });\n};","map":{"version":3,"names":["produce","parseJsonByString","CHANGE_SCHEMA","ADD_PAGE_CHILDREN","CHANGE_PAGE_CHILD","DELECT_PAGE_CHILD","CHANGE_PAGE_CHILD_POSITION","initialSchema","window","localStorage","schema","name","attributes","children","defaultState","homeManagePageReducer","state","action","draft","type","value","push","splice","index"],"sources":["/Users/mikey/Desktop/yc-blog/src/admin/redux/reducer.js"],"sourcesContent":["import {produce} from 'immer';\nimport {parseJsonByString} from \"../../common/utils\";\nimport {CHANGE_SCHEMA,ADD_PAGE_CHILDREN,CHANGE_PAGE_CHILD,DELECT_PAGE_CHILD,CHANGE_PAGE_CHILD_POSITION} from \"./constant\";\n\nconst initialSchema = parseJsonByString(window.localStorage.schema, {\n    name: 'page',\n    attributes: {},\n    children: []\n});\n\nconst defaultState = {\n    schema:initialSchema\n};\n\nexport const homeManagePageReducer = (state = defaultState, action) => produce(state, (draft) => {\n    switch (action.type) {\n        case CHANGE_SCHEMA:\n            draft.schema = action.value;\n            break;\n        case ADD_PAGE_CHILDREN:\n            draft.schema.children.push(action.value);\n            break;\n        case CHANGE_PAGE_CHILD:\n            draft.schema.children.splice(action.index,1,action.value);\n            break;\n        case DELECT_PAGE_CHILD:\n            draft.schema.children.splice(action.index,1);\n            break;\n        case CHANGE_PAGE_CHILD_POSITION:\n            draft.schema.children.splice(action.index,1);\n            break;\n        default:\n            break;\n    }\n})"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,OAAtB;AACA,SAAQC,iBAAR,QAAgC,oBAAhC;AACA,SAAQC,aAAR,EAAsBC,iBAAtB,EAAwCC,iBAAxC,EAA0DC,iBAA1D,EAA4EC,0BAA5E,QAA6G,YAA7G;AAEA,MAAMC,aAAa,GAAGN,iBAAiB,CAACO,MAAM,CAACC,YAAP,CAAoBC,MAArB,EAA6B;EAChEC,IAAI,EAAE,MAD0D;EAEhEC,UAAU,EAAE,EAFoD;EAGhEC,QAAQ,EAAE;AAHsD,CAA7B,CAAvC;AAMA,MAAMC,YAAY,GAAG;EACjBJ,MAAM,EAACH;AADU,CAArB;AAIA,OAAO,MAAMQ,qBAAqB,GAAG;EAAA,IAACC,KAAD,uEAASF,YAAT;EAAA,IAAuBG,MAAvB;EAAA,OAAkCjB,OAAO,CAACgB,KAAD,EAASE,KAAD,IAAW;IAC7F,QAAQD,MAAM,CAACE,IAAf;MACI,KAAKjB,aAAL;QACIgB,KAAK,CAACR,MAAN,GAAeO,MAAM,CAACG,KAAtB;QACA;;MACJ,KAAKjB,iBAAL;QACIe,KAAK,CAACR,MAAN,CAAaG,QAAb,CAAsBQ,IAAtB,CAA2BJ,MAAM,CAACG,KAAlC;QACA;;MACJ,KAAKhB,iBAAL;QACIc,KAAK,CAACR,MAAN,CAAaG,QAAb,CAAsBS,MAAtB,CAA6BL,MAAM,CAACM,KAApC,EAA0C,CAA1C,EAA4CN,MAAM,CAACG,KAAnD;QACA;;MACJ,KAAKf,iBAAL;QACIa,KAAK,CAACR,MAAN,CAAaG,QAAb,CAAsBS,MAAtB,CAA6BL,MAAM,CAACM,KAApC,EAA0C,CAA1C;QACA;;MACJ,KAAKjB,0BAAL;QACIY,KAAK,CAACR,MAAN,CAAaG,QAAb,CAAsBS,MAAtB,CAA6BL,MAAM,CAACM,KAApC,EAA0C,CAA1C;QACA;;MACJ;QACI;IAjBR;EAmBH,CApB6E,CAAzC;AAAA,CAA9B"},"metadata":{},"sourceType":"module"}